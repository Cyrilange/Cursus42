[global]                                      ; Global section for PHP-FPM settings

; Process manager settings
pm = dynamic                                   ; Use dynamic process manager to adjust workers automatically
pm.max_children = 10                           ; Maximum number of child processes
pm.start_servers = 3                            ; Number of child processes to start when FPM starts
pm.min_spare_servers = 2                        ; Minimum number of idle child processes
pm.max_spare_servers = 5                        ; Maximum number of idle child processes
pm.max_requests = 500                           ; Max requests per child process before respawn

; Listening settings
listen = 9000                                  ; Port or socket PHP-FPM listens on
listen.owner = www-data                         ; Owner of the socket (user)
listen.group = www-data                         ; Group of the socket
listen.mode = 0660                              ; Permissions for the socket

; Logging settings
access.log = /var/log/fpm-access.log           ; Access log file path
slowlog = /var/log/fpm-slow.log                ; Slow request log file path
request_slowlog_timeout = 5s                   ; Time threshold to consider a request "slow"

; User and group for PHP-FPM workers
user = www-data                                ; Run worker processes as www-data user
group = www-data                               ; Run worker processes as www-data group

; Timeout and error handling
request_terminate_timeout = 30s                ; Maximum execution time per request
catch_workers_output = yes                      ; Capture stdout/stderr of worker processes
